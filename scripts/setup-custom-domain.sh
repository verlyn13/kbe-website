#!/bin/bash

echo "üåê Setting up homerconnect.com for KBE Website"
echo "============================================="

echo ""
echo "üìã Current Setup Status:"
echo ""

# Check current sites
echo "1. Firebase Hosting Sites:"
firebase hosting:sites:list

echo ""
echo "üîß Manual Steps Required:"
echo ""
echo "1. Add Custom Domain in Firebase Console:"
echo "   ‚Ä¢ Go to: https://console.firebase.google.com/project/kbe-website/hosting/sites"
echo "   ‚Ä¢ Click on 'homerconnect' site"
echo "   ‚Ä¢ Click 'Add custom domain'"
echo "   ‚Ä¢ Enter: homerconnect.com"
echo ""
echo "2. Configure Cloudflare DNS (IMPORTANT):"
echo "   ‚Ä¢ Go to Cloudflare Dashboard for homerconnect.com"
echo "   ‚Ä¢ Add these DNS records:"
echo ""
echo "   Type: A"
echo "   Name: @ (or homerconnect.com)"
echo "   Value: 151.101.1.195"
echo "   Proxy: DNS only (gray cloud) ‚ö†Ô∏è"
echo ""
echo "   Type: A"
echo "   Name: @ (or homerconnect.com)"
echo "   Value: 151.101.65.195"
echo "   Proxy: DNS only (gray cloud) ‚ö†Ô∏è"
echo ""
echo "3. Update Cloudflare SSL/TLS Settings:"
echo "   ‚Ä¢ Go to SSL/TLS ‚Üí Overview"
echo "   ‚Ä¢ Set to: Full (strict)"
echo "   ‚Ä¢ NOT Flexible (causes redirect loops)"
echo ""
echo "4. Add to Firebase Auth Authorized Domains:"
echo "   ‚Ä¢ Go to: https://console.firebase.google.com/project/kbe-website/authentication/settings"
echo "   ‚Ä¢ Add: homerconnect.com"
echo "   ‚Ä¢ Add: www.homerconnect.com (optional)"
echo ""
echo "5. Update Environment Variables:"
echo "   Add to .env.local:"
echo "   NEXT_PUBLIC_APP_URL=https://homerconnect.com"
echo "   NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=homerconnect.com"
echo ""
echo "‚è±Ô∏è  Timeline:"
echo "   ‚Ä¢ DNS: 5 minutes to 48 hours"
echo "   ‚Ä¢ SSL: Up to 24 hours"
echo "   ‚Ä¢ Auth: Works immediately after domain authorized"
echo ""
echo "üîç To check domain status:"
echo "   firebase hosting:sites:get homerconnect"
echo ""